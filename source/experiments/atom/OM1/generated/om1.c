#include <stdbool.h>
#include <stdint.h>


#include <stdio.h>
#include <unistd.h>

// ---- BEGIN of source automatically generated by Atom ----


static uint64_t __global_clock = 0;



static const uint32_t __coverage_len = 1;
static uint32_t __coverage[1] = {0};
static uint32_t __coverage_index = 0;
struct {  /* state */
  struct {  /* om1 */
    uint64_t c1v;
    bool hasData;
    struct {  /* source */
      bool done;
      uint64_t msg;
    } source;
  } om1;
} state =
{  /* state */
  {  /* om1 */
    /* c1v */  0ULL,
    /* hasData */  false,
    {  /* source */
      /* done */  false,
      /* msg */  0ULL
    }
  }
};

/* om1.source */
static void __r0() {
  bool __0 = state.om1.hasData;
  bool __1 = ! __0;
  bool __2 = state.om1.source.done;
  bool __3 = ! __2;
  bool __4 = __1 && __3;
  bool __5 = __3 && __1;
  uint64_t __6 = 1ULL;
  uint64_t __7 = state.om1.source.msg;
  uint64_t __8 = __5 ? __6 : __7;
  uint64_t __9 = state.om1.c1v;
  uint64_t __10 = __5 ? __7 : __9;
  bool __11 = ! __5;
  bool __12 = __11 && __0;
  bool __13 = ! __12;
  bool __14 = __11 && __13;
  bool __15 = ! __14;
  bool __16 = __11 && __2;
  bool __17 = ! __16;
  bool __18 = __11 && __17;
  bool __19 = ! __18;
  if (__4) {
    __coverage[0] = __coverage[0] | (1 << 0);
  }
  state.om1.source.msg = __8;
  state.om1.c1v = __10;
  state.om1.hasData = __15;
  state.om1.source.done = __19;
}

/* om1.observer */
static void __r1() {
  bool __0 = true;
  uint64_t __1 = state.om1.c1v;
  if (__0) {
    printf("v = : %i\n", __1);
    __coverage[0] = __coverage[0] | (1 << 1);
  }
}


static void __assertion_checks() {
}


void om1()
{

  {
    static uint8_t __scheduling_clock = 0;
    if (__scheduling_clock == 0) {
      __assertion_checks(); __r0();  /* om1.source */
      __assertion_checks(); __r1();  /* om1.observer */
      __scheduling_clock = 0;
    }
    else {
      __scheduling_clock = __scheduling_clock - 1;
    }
  }

  __global_clock = __global_clock + 1;

}

// ---- END of source automatically generated by Atom ----

int main(int argc, char **argv) {
  while(1) { om1(); sleep(1); }
}

